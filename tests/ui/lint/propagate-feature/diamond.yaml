crates:
- name: A
  deps:
  - B
  - C
  features:
    F0: null
- name: B
  deps:
  - D
- name: C
  deps:
  - D
  features:
    F0: null
- name: D
  features:
    F0: null
cases:
- cmd: lint propagate-feature --feature F1
  stdout: ''
- cmd: lint propagate-feature --feature F0
  stdout: |
    crate "A"
      feature "F0"
        must propagate to:
          C
    crate "B"
      feature "F0"
        must exit because 1 dependencies have it:
          D
    crate "C"
      feature "F0"
        must propagate to:
          D
    Generated 3 errors, 0 warnings and fixed 0 issues.
- cmd: lint propagate-feature -p A --feature F0
  stdout: |
    crate "A"
      feature "F0"
        must propagate to:
          C
    Generated 1 errors, 0 warnings and fixed 0 issues.
- cmd: lint propagate-feature -p B --feature F0
  stdout: |
    crate "B"
      feature "F0"
        must exit because 1 dependencies have it:
          D
    Generated 1 errors, 0 warnings and fixed 0 issues.
- cmd: lint propagate-feature -p C --feature F0
  stdout: |
    crate "C"
      feature "F0"
        must propagate to:
          D
    Generated 1 errors, 0 warnings and fixed 0 issues.
- cmd: lint propagate-feature -p D --feature F0
  stdout: ''
